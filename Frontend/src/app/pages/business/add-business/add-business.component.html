<div class="add-business-container">
  <h1>Ajouter un Business</h1>
  <form [formGroup]="businessForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Nom du Business</label>
      <input
        id="name"
        formControlName="name"
        placeholder="Entrez le nom du business"
        [ngClass]="{
          'invalid': name.touched && name.invalid,
          'valid': name.touched && name.valid
        }"
      />
      <div *ngIf="name.touched && name.invalid" class="error">
        <div *ngIf="name.errors?.['required']">Le nom est requis.</div>
        <div *ngIf="name.errors?.['minlength']">Le nom doit avoir au moins 3 caractères.</div>
        <div *ngIf="name.errors?.['maxlength']">Le nom ne doit pas dépasser 50 caractères.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <input
        id="description"
        formControlName="description"
        placeholder="Entrez la description"
        [ngClass]="{
          'invalid': description.touched && description.invalid,
          'valid': description.touched && description.valid
        }"
      />
      <div *ngIf="description.touched && description.invalid" class="error">
        <div *ngIf="description.errors?.['required']">La description est requise.</div>
        <div *ngIf="description.errors?.['minlength']">La description doit avoir au moins 10 caractères.</div>
        <div *ngIf="description.errors?.['maxlength']">La description ne doit pas dépasser 255 caractères.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="categorieBusiness">Catégorie</label>
      <select id="categorieBusiness" formControlName="categorieBusiness">
        <option [ngValue]="null" disabled>Sélectionnez une catégorie</option>
        <option *ngFor="let category of categories" [ngValue]="category">{{ category }}</option>
      </select>
      <div *ngIf="categorieBusiness.touched && categorieBusiness.invalid" class="error">
        <div *ngIf="categorieBusiness.errors?.['required']">La catégorie est requise.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="logoInput">Logo</label>
      <input
        id="logoInput"
        type="file"
        accept="image/jpeg,image/png"
        (change)="onLogoSelected($event)"
        style="display: none;"
      />
      <button type="button" (click)="triggerFileInput()">Choisir un logo</button>
      <div *ngIf="logoPreview" class="preview">
        <img [src]="logoPreview" alt="Logo Preview" style="max-width: 200px;" />
      </div>
    </div>

    <button type="submit" [disabled]="businessForm.disabled">Ajouter le Business</button>
  </form>
</div>