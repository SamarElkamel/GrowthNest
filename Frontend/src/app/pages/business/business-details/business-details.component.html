<!-- Title page -->
<section
  class="bg-img1 txt-center p-lr-15 p-tb-92"
  [style.background-image]="'url(' + getLogoUrl(business?.logo) + ')'"
>
  <h2 class="ltext-105 cl0 txt-center">Welcome to {{ business?.name || 'our business' }}</h2>
</section>

<!-- Content page -->
<section class="bg0 p-t-75 p-b-120">
  <div class="container">
    <div *ngIf="loading" class="text-center">
      <p>Loading...</p>
    </div>
    <div *ngIf="error" class="text-center text-danger">
      <p>{{ error }}</p>
    </div>
    <div *ngIf="business && !loading && !error">
      <!-- Our Story -->
      <div class="row p-b-148">
        <div class="col-md-7 col-lg-8">
          <div class="p-t-7 p-r-85 p-r-15-lg p-r-0-md">
            <h3 class="mtext-111 cl2 p-b-16">{{ business.name }}</h3>
            <p class="stext-113 cl6 p-b-26">
              {{ business.description || 'Aucune description disponible pour cette entreprise.' }}
            </p>
            <p class="stext-113 cl6 p-b-26">
              <strong>Catégorie :</strong> {{ business.categorieBusiness || 'Général' }}
            </p>
            <p class="stext-113 cl6 p-b-26">
              <strong>Page Instagram :</strong> {{ business.instagramPageName || 'Non spécifiée' }}
            </p>
            <div>
              <p>
                <strong>Average Rating:</strong> {{ business.averageRating | number:'1.1-1' }} ({{
                  business.ratingCount
                }}
                votes)
              </p>
              <app-rating
                [businessId]="business.idBusiness"
                (ratingSubmitted)="refreshBusiness()"
              ></app-rating>
            </div>
            <!-- QR Code -->
            <div class="qr-code-section p-t-20" *ngIf="qrCodeUrl">
              <h4 class="stext-111 cl2 p-b-10">Scannez pour visiter notre Instagram</h4>
              <img [src]="qrCodeUrl" alt="QR Code Instagram" class="qr-code-img" />
            </div>
          </div>
          <div class="col-8 txt-center p-t-20">
            <button
              class="flex-c-m stext-101 cl0 size-121 bg3 bor1 hov-btn3 p-lr-15 trans-04 pointer"
              (click)="viewProducts(business.idBusiness)"
            >
              View products
            </button>
          </div>
        </div>
        <div class="col-11 col-md-5 col-lg-4 m-lr-auto">
          <div class="how-bor1">
            <div class="hov-img0">
              <img
                [src]="getLogoUrl(business.logo)"
                alt="Business Image"
                (error)="onImageError($event, business)"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>