<div class="event-management-container">
  <!-- Header Section -->
  <div class="management-header">
    <h2>Event Management</h2>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <button class="btn-primary" (click)="addEvent()">Add Event</button>
    <button class="btn-secondary" (click)="viewHistory()">View History</button>
  </div>

  <!-- Status Messages -->
  <div *ngIf="isLoading" class="status-message loading">Loading events...</div>
  <div *ngIf="error" class="status-message error">{{ error }}</div>

  <!-- Events Table -->
  <div class="card" *ngIf="!isLoading && !error">
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Date</th>
            <th>Location</th>
            <th>Places</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let event of paginatedEvents">
            <td class="event-title">{{ event.title }}</td>
            <td>{{ event.date | date:'mediumDate' }}</td>
            <td>{{ event.location }}</td>
            <td>{{ event.numberOfPlaces || 'Unlimited' }}</td>
            <td>
              <span class="status-badge" [ngClass]="'status-' + event.status">
                {{ event.status }}
              </span>
            </td>
            <td class="actions">
              <button class="btn-text info" (click)="viewDetails(event.idEvent!)">Details</button>
              <button class="btn-text warning" (click)="updateEvent(event)">Update</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Pagination -->
  <div class="pagination" *ngIf="!isLoading && events.length > pageSize">
    <ngb-pagination
      [(page)]="page"
      [pageSize]="pageSize"
      [collectionSize]="collectionSize"
      [maxSize]="5"
      [boundaryLinks]="true"
      (pageChange)="refreshEvents()"
      aria-label="Event pagination">
    </ngb-pagination>
  </div>
</div>